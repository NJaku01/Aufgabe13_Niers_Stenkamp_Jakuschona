<!--Nick Jakuschona 450709 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="routes_editor.css"/>
    <link rel="stylesheet" href="pub-pkg-bootstrap-min/css/bootstrap-v4.2.1.css"/>
    <link rel="stylesheet" href="leaflet/leaflet.css"/>
    <link rel="stylesheet" href="leaflet-control-geocoder/Control.Geocoder.css"/>
    <link rel="stylesheet" href="leaflet-routing-machine/leaflet-routing-machine.css"/>

    <script src="jquery/jquery.js"></script>
    <!--
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
        -->

    <script src="leaflet/leaflet.js"></script>
    <script src="leaflet-control-geocoder/Control.Geocoder.js"></script>
    <script src="leaflet-routing-machine/leaflet-routing-machine.js"></script>
    <script src="pub-pkg-bootstrap-min/js/bootstrap-v4.2.1.bundle.js"></script>
    <script src="turf/turf.min.js"></script>



    <link href="routes_editor.css" rel="stylesheet">
    <title>Routes Creator</title>
</head>
<body onload="events()">


<nav class="navbar navbar-expand-md navbar-dark bg-dark">
    <span class="navbar-brand">Geosoftware-Projekt</span>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" href="index.html">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="routes_editor.html">Routen-Editor</a>
            </li>
        </ul>
    </div>
</nav>


<h1>Routes Creator</h1>
<p id="description">With this function a route can be calculated. The result will be shown as JSON on the right side.
    The result is also saved and can be uploaded to the main page.
    Furthermore, it is possible to load a route with a maximum of 30 waypoints into the text field. From this a route is
    calculated and displayed.</p>
<div id="main" style="overflow: auto;">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6">
                <div id="mapdiv" style="width: 100%; height: 400px; float: left;">
                </div>
            </div>
            <div class="col-md-6">
                <div id="data">
                    <textarea id="geojsontextarea" onchange="showLine(this.value)"
                              style="width: 100%; height: 400px; "></textarea><br/>
                </div>
            </div>
        </div>
    </div>
    <div>
        <button onclick="showFiles('userRoutes')">Show UserRoutes in Database</button>
        <button onclick="showFiles('animalRoutes')">Show AnimalRoutes in Database</button>
        <button onclick="showFiles('userIntersections')">Show UserIntersections in Database</button>
        <button onclick="showFiles('animalIntersections')">Show AnimalIntersections in Database</button>
        <textarea readonly id="database" style="width: 100%; height: 400px;"> </textarea>
    </div>
    <div id="form">
        <h5>Add Item (POST Request)</h5>


        <form name="create" action="item/create" onsubmit="return validateForm('create')"  method="POST" target="_blank">
            User_ID:<br/>
            <input type="text" name="User_ID"/><br>
            Name of the route:<br/>
            <input type="text" name="Name"/><br>
            Type of the Route:<br/>
            <input type="text" name="Type"/><br>
            Date:<br/>
            <input type="date" name="date"/><br>
            Time:<br/>
            <input type="time" name="time"/><br>
            <input type="hidden" id="geojson" name="geoJson"/>
            <input type="hidden" name="collection" value="userRoutes"/>
            <input type="hidden" id="routeID" name="routeID" />
            <input type="submit" value="Send"/>
        </form>

        <br/>

        <h5>Update Item</h5>

        <form name="update" action="item/update" target="_blank" onsubmit="return validateForm('update')" method="POST">
            ID:<br/>
            <input type="text" name="_id"/><br>
            User_ID:<br/>
            <input type="text" name="User_ID"/><br>
            Name of the route:<br/>
            <input type="text" name="Name"/><br>
            Type of the Route:<br/>
            <input type="text" name="Type"/><br>
            Date:<br/>
            <input type="date" name="date"/><br>
            Time:<br/>
            <input type="time" name="time"/><br>
            <input type="hidden" id="geojsonUpdate" name="geojson">
            <input type="submit" value="Send"/>
        </form>

        <br/>

        <h5>Delete Item</h5>

        <form name="delete" action="item/deleteOne" target="_blank" onsubmit="return validateForm('delete')" method="POST">


            ID:<br/>
            <input type="text" name="_id"/><br>
            <br/>
            <input type="submit" value="Send"/>
        </form>

        <h5>Add Animal Route</h5>

        <form name="createAnimal">

            Study ID:<br/>
            <input type="number" name="Study_ID"/>
            <br>
            <input type="hidden" name="collection" value="animalRoutes"/>
            <br/>
        </form>
        <button onclick="getFilesFromMovebank()">Get Files from Movebank</button>
    </div>

    <button onclick="deleteAll('userRoutes')">Delete all UserRoutes in Database</button>
    <button onclick="deleteAll('animalRoutes')">Delete all AnimalRoutes in Database</button>
    <button onclick="deleteAll('userIntersections')">Delete all UserIntersections in Database</button>
    <button onclick="deleteAll('animalIntersections')">Delete all AnimalIntersections in Database</button>

</div>


<div id="movebankJson"></div>


<footer class="page-footer font-small">

    <div class="footer-copyright text-center py-3">
        © 2019 Copyright: <a href="https://www.wickueler.de/index.php">Wicküler</a>
        <br/>
        <a href="impressum.html">Impressum</a>
    </div>

</footer>

</body>
</html>


<script src="routes_editor.js"></script>